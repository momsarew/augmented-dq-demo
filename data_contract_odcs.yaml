apiVersion: v3.1.0
kind: DataContract
id: 062b0cd5-4196-4751-95b1-ff96c395e101
name: Data Contract — referentiel_rh_complet
version: 1.0.0
status: active
domain: data-quality
description:
  purpose: Contrat qualité généré automatiquement pour le dataset 'referentiel_rh_complet' avec le référentiel de 128 anomalies
    (DB:22, DP:32, BR:34, UP:40).
  limitations: Les règles 'Manuel' nécessitent une revue humaine. Les seuils Auto/Semi sont calibrés statistiquement sur les
    données observées.
schema:
- name: referentiel_rh_complet
  logicalType: object
  properties:
  - name: matricule_id
    logicalType: string
    required: true
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: 'Pas de doublons PK (actuel: 0)'
      metric: duplicateValues
      customProperties:
        anomalyId: DB#2
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAMT
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: 'Valeurs autorisées (8): EMP001, EMP002, EMP003, EMP004, EMP005, EMP006, EMP007, EMP008'
      metric: invalidValues
      customProperties:
        validValues:
        - EMP001
        - EMP002
        - EMP003
        - EMP004
        - EMP005
        - EMP006
        - EMP007
        - EMP008
        anomalyId: DB#5
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Vérifier synonymes/variantes même concept
      query: SELECT LOWER(TRIM(matricule_id)) AS norm, GROUP_CONCAT(DISTINCT matricule_id) AS variantes, COUNT(DISTINCT matricule_id)
        AS nb FROM referentiel_rh_complet GROUP BY norm HAVING nb > 1
      mustBeLessThan: 0
      unit: groups
      customProperties:
        anomalyId: DB#12
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT matricule_id) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu
        dans l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: custom
      description: Longueur max ≤ 6 car.
      mustBeLessThan: 6
      unit: characters
      customProperties:
        anomalyId: DP#7
        causalDimension: DP
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: SAST
    - type: custom
      description: Risque jointure cartésienne si PK non unique
      query: SELECT matricule_id, COUNT(*) AS nb FROM referentiel_rh_complet GROUP BY matricule_id HAVING nb > 1
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DP#14
        causalDimension: DP
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: MR
    - type: custom
      description: Granularité excessive (100% uniques)
      query: SELECT COUNT(DISTINCT matricule_id) * 100.0 / COUNT(*) AS pct_unique FROM referentiel_rh_complet
      mustBeLessThan: 90.0
      unit: percent
      customProperties:
        anomalyId: UP#1
        causalDimension: UP
        detectionMethod: Manuel
        criticality: FAIBLE
        woodallClass: MAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Unicité: 1.0
  - name: nom
    logicalType: string
    required: true
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: 'Valeurs autorisées (8): Dupont, Durand, Laurent, Lefebvre, Martin, Michel, Moreau, Simon'
      metric: invalidValues
      customProperties:
        validValues:
        - Dupont
        - Durand
        - Laurent
        - Lefebvre
        - Martin
        - Michel
        - Moreau
        - Simon
        anomalyId: DB#5
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Doublons fuzzy (variations syntaxiques)
      query: SELECT a.nom, b.nom, LEVENSHTEIN(a.nom, b.nom) AS dist FROM referentiel_rh_complet a JOIN referentiel_rh_complet
        b ON a.rowid < b.rowid WHERE dist <= 2 AND a.nom <> b.nom
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#10
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, SR, MR, MDS
    - type: custom
      description: Vérifier synonymes/variantes même concept
      query: SELECT LOWER(TRIM(nom)) AS norm, GROUP_CONCAT(DISTINCT nom) AS variantes, COUNT(DISTINCT nom) AS nb FROM referentiel_rh_complet
        GROUP BY norm HAVING nb > 1
      mustBeLessThan: 0
      unit: groups
      customProperties:
        anomalyId: DB#12
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT nom) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu dans
        l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: custom
      description: Longueur max ≤ 8 car.
      mustBeLessThan: 8
      unit: characters
      customProperties:
        anomalyId: DP#7
        causalDimension: DP
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: SAST
    - type: custom
      description: Granularité excessive (100% uniques)
      query: SELECT COUNT(DISTINCT nom) * 100.0 / COUNT(*) AS pct_unique FROM referentiel_rh_complet
      mustBeLessThan: 90.0
      unit: percent
      customProperties:
        anomalyId: UP#1
        causalDimension: UP
        detectionMethod: Manuel
        criticality: FAIBLE
        woodallClass: MAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Unicité: 1.0
  - name: email
    logicalType: string
    required: true
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: 'Valeurs autorisées (8): dupont@corp.fr, durand@corp.fr, laurent@corp.fr, lefebvre@corp.fr, martin@corp.fr,
        michel@corp.fr, moreau@corp.fr, simon@corp.fr'
      metric: invalidValues
      customProperties:
        validValues:
        - dupont@corp.fr
        - durand@corp.fr
        - laurent@corp.fr
        - lefebvre@corp.fr
        - martin@corp.fr
        - michel@corp.fr
        - moreau@corp.fr
        - simon@corp.fr
        anomalyId: DB#5
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: library
      description: Format email valide (xxx@domain.tld)
      metric: invalidValues
      customProperties:
        anomalyId: DB#7
        causalDimension: DB
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: SAST
    - type: custom
      description: Doublons fuzzy (variations syntaxiques)
      query: SELECT a.email, b.email, LEVENSHTEIN(a.email, b.email) AS dist FROM referentiel_rh_complet a JOIN referentiel_rh_complet
        b ON a.rowid < b.rowid WHERE dist <= 2 AND a.email <> b.email
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#10
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, SR, MR, MDS
    - type: custom
      description: Vérifier synonymes/variantes même concept
      query: SELECT LOWER(TRIM(email)) AS norm, GROUP_CONCAT(DISTINCT email) AS variantes, COUNT(DISTINCT email) AS nb FROM
        referentiel_rh_complet GROUP BY norm HAVING nb > 1
      mustBeLessThan: 0
      unit: groups
      customProperties:
        anomalyId: DB#12
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT email) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu dans
        l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: custom
      description: Longueur max ≤ 16 car.
      mustBeLessThan: 16
      unit: characters
      customProperties:
        anomalyId: DP#7
        causalDimension: DP
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: SAST
    - type: custom
      description: Granularité excessive (100% uniques)
      query: SELECT COUNT(DISTINCT email) * 100.0 / COUNT(*) AS pct_unique FROM referentiel_rh_complet
      mustBeLessThan: 90.0
      unit: percent
      customProperties:
        anomalyId: UP#1
        causalDimension: UP
        detectionMethod: Manuel
        criticality: FAIBLE
        woodallClass: MAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Unicité: 1.0
  - name: date_embauche
    logicalType: string
    required: true
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: 'Valeurs autorisées (8): 2017-11-20, 2018-07-22, 2019-03-15, 2019-08-30, 2020-06-01, 2021-01-10, 2022-09-05,
        2023-02-14'
      metric: invalidValues
      customProperties:
        validValues:
        - '2017-11-20'
        - '2018-07-22'
        - '2019-03-15'
        - '2019-08-30'
        - '2020-06-01'
        - '2021-01-10'
        - '2022-09-05'
        - '2023-02-14'
        anomalyId: DB#5
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Doublons fuzzy (variations syntaxiques)
      query: SELECT a.date_embauche, b.date_embauche, LEVENSHTEIN(a.date_embauche, b.date_embauche) AS dist FROM referentiel_rh_complet
        a JOIN referentiel_rh_complet b ON a.rowid < b.rowid WHERE dist <= 2 AND a.date_embauche <> b.date_embauche
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#10
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, SR, MR, MDS
    - type: custom
      description: Vérifier synonymes/variantes même concept
      query: SELECT LOWER(TRIM(date_embauche)) AS norm, GROUP_CONCAT(DISTINCT date_embauche) AS variantes, COUNT(DISTINCT
        date_embauche) AS nb FROM referentiel_rh_complet GROUP BY norm HAVING nb > 1
      mustBeLessThan: 0
      unit: groups
      customProperties:
        anomalyId: DB#12
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier cohérence formats dates
      query: SELECT date_embauche, LENGTH(date_embauche) AS len FROM referentiel_rh_complet WHERE date_embauche IS NOT NULL
        AND date_embauche NOT REGEXP '^[0-9]{4}-[0-9]{2}-[0-9]{2}$'
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#15
        causalDimension: DB
        detectionMethod: Auto
        criticality: FAIBLE
        woodallClass: MAST
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT date_embauche) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu
        dans l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: custom
      description: Longueur max ≤ 10 car.
      mustBeLessThan: 10
      unit: characters
      customProperties:
        anomalyId: DP#7
        causalDimension: DP
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: SAST
    - type: custom
      description: Vérifier parsing dates (DD/MM vs MM/DD)
      query: SELECT date_embauche FROM referentiel_rh_complet WHERE CAST(SUBSTR(date_embauche,6,2) AS INT) <= 12 AND CAST(SUBSTR(date_embauche,9,2)
        AS INT) <= 12 AND SUBSTR(date_embauche,6,2) <> SUBSTR(date_embauche,9,2)
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DP#8
        causalDimension: DP
        detectionMethod: Semi
        criticality: CRITIQUE
        woodallClass: SAST, MDS
    - type: custom
      description: date_embauche doit être ≤ date_sortie
      query: SELECT date_embauche, date_sortie FROM referentiel_rh_complet WHERE date_embauche > date_sortie AND date_embauche
        IS NOT NULL AND date_sortie IS NOT NULL
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: BR#1
        causalDimension: BR
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: MAST
    - type: custom
      description: Granularité excessive (100% uniques)
      query: SELECT COUNT(DISTINCT date_embauche) * 100.0 / COUNT(*) AS pct_unique FROM referentiel_rh_complet
      mustBeLessThan: 90.0
      unit: percent
      customProperties:
        anomalyId: UP#1
        causalDimension: UP
        detectionMethod: Manuel
        criticality: FAIBLE
        woodallClass: MAST
    - type: custom
      description: Données de moins de 365 jours
      mustBeLessThan: 365
      unit: days
      customProperties:
        anomalyId: UP#6
        causalDimension: UP
        detectionMethod: Semi
        criticality: ÉLEVÉ
        woodallClass: SAMT
    customProperties:
      damaScores:
        Complétude: 1.0
        Exactitude: 0.625
        Fraîcheur: 0.0
        Unicité: 1.0
  - name: date_sortie
    logicalType: string
    required: false
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 10.0% (actuel: 87.5%)'
      metric: nullValues
      mustBeLessThan: 10.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: 6 doublons exacts
      metric: duplicateValues
      customProperties:
        anomalyId: DB#9
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: 'NULL légitimes: 87.5% (à documenter si > 30%)'
      metric: nullValues
      customProperties:
        anomalyId: DB#16
        causalDimension: DB
        detectionMethod: Auto
        criticality: VARIABLE
        woodallClass: SAST
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT date_sortie) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu
        dans l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: custom
      description: SI statut=Inactif ALORS date_sortie NOT NULL
      query: SELECT * FROM referentiel_rh_complet WHERE statut = 'Inactif' AND date_sortie IS NULL
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: BR#5
        causalDimension: BR
        detectionMethod: Semi
        criticality: ÉLEVÉ
        woodallClass: MAST
    - type: custom
      description: Données de moins de 365 jours
      mustBeLessThan: 365
      unit: days
      customProperties:
        anomalyId: UP#6
        causalDimension: UP
        detectionMethod: Semi
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: 'Taux remplissage 12.5% (seuil: 70%)'
      metric: missingValues
      mustBeGreaterThan: 70
      unit: percent
      customProperties:
        anomalyId: UP#16
        causalDimension: UP
        detectionMethod: Semi
        criticality: ÉLEVÉ
        woodallClass: SAMT
    customProperties:
      damaScores:
        Complétude: 0.125
        Fraîcheur: 0.875
        Unicité: 0.25
  - name: salaire
    logicalType: integer
    required: true
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: Valeurs dans [35210.00, 60580.00]
      metric: invalidValues
      mustBeBetween:
      - 35210.0
      - 60580.0
      customProperties:
        anomalyId: DB#6
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Vérifier homogénéité des unités
      query: SELECT MIN(salaire) AS min_val, MAX(salaire) AS max_val, MAX(salaire)/NULLIF(MIN(salaire),0) AS amplitude FROM
        referentiel_rh_complet WHERE salaire > 0 HAVING amplitude > 100
      mustBeLessThan: 100
      unit: amplitude_ratio
      customProperties:
        anomalyId: DB#14
        causalDimension: DB
        detectionMethod: Semi
        criticality: CRITIQUE
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT salaire) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu dans
        l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: library
      description: 'Pas de négatifs sur champ positif (actuel: 0)'
      metric: invalidValues
      customProperties:
        anomalyId: BR#2
        causalDimension: BR
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: MAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Unicité: 1.0
  - name: age
    logicalType: integer
    required: true
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: Valeurs dans [25.21, 50.58]
      metric: invalidValues
      mustBeBetween:
      - 25.21
      - 50.58
      customProperties:
        anomalyId: DB#6
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Vérifier homogénéité des unités
      query: SELECT MIN(age) AS min_val, MAX(age) AS max_val, MAX(age)/NULLIF(MIN(age),0) AS amplitude FROM referentiel_rh_complet
        WHERE age > 0 HAVING amplitude > 100
      mustBeLessThan: 100
      unit: amplitude_ratio
      customProperties:
        anomalyId: DB#14
        causalDimension: DB
        detectionMethod: Semi
        criticality: CRITIQUE
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT age) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu dans
        l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: library
      description: 'Pas de négatifs sur champ positif (actuel: 0)'
      metric: invalidValues
      customProperties:
        anomalyId: BR#2
        causalDimension: BR
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: MAST
    - type: custom
      description: 'Formule: age = (now - date_embauche) / 365.25'
      query: '-- Vérifier: Formule: age = (now - date_embauche) / 365.25'
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DP#1
        causalDimension: DP
        detectionMethod: Semi
        criticality: ÉLEVÉ
        woodallClass: MAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Exactitude: 0.0
        Unicité: 1.0
  - name: statut
    logicalType: string
    required: true
    unique: false
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: 'Valeurs autorisées (2): Actif, Inactif'
      metric: invalidValues
      customProperties:
        validValues:
        - Actif
        - Inactif
        anomalyId: DB#5
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Doublons fuzzy (variations syntaxiques)
      query: SELECT a.statut, b.statut, LEVENSHTEIN(a.statut, b.statut) AS dist FROM referentiel_rh_complet a JOIN referentiel_rh_complet
        b ON a.rowid < b.rowid WHERE dist <= 2 AND a.statut <> b.statut
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#10
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, SR, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT statut) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu dans
        l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: custom
      description: Longueur max ≤ 7 car.
      mustBeLessThan: 7
      unit: characters
      customProperties:
        anomalyId: DP#7
        causalDimension: DP
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: SAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Unicité: 0.25
  - name: departement
    logicalType: string
    required: true
    unique: false
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: 'Valeurs autorisées (4): Finance, IT, Marketing, RH'
      metric: invalidValues
      customProperties:
        validValues:
        - Finance
        - IT
        - Marketing
        - RH
        anomalyId: DB#5
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Doublons fuzzy (variations syntaxiques)
      query: SELECT a.departement, b.departement, LEVENSHTEIN(a.departement, b.departement) AS dist FROM referentiel_rh_complet
        a JOIN referentiel_rh_complet b ON a.rowid < b.rowid WHERE dist <= 2 AND a.departement <> b.departement
      mustBeLessThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#10
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, SR, MR, MDS
    - type: custom
      description: Vérifier synonymes/variantes même concept
      query: SELECT LOWER(TRIM(departement)) AS norm, GROUP_CONCAT(DISTINCT departement) AS variantes, COUNT(DISTINCT departement)
        AS nb FROM referentiel_rh_complet GROUP BY norm HAVING nb > 1
      mustBeLessThan: 0
      unit: groups
      customProperties:
        anomalyId: DB#12
        causalDimension: DB
        detectionMethod: Semi
        criticality: MOYEN
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT departement) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu
        dans l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: custom
      description: Longueur max ≤ 9 car.
      mustBeLessThan: 9
      unit: characters
      customProperties:
        anomalyId: DP#7
        causalDimension: DP
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: SAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Unicité: 0.5
  - name: taux_prime
    logicalType: number
    required: true
    unique: true
    quality:
    - type: library
      description: 'Taux nulls ≤ 0.0% (actuel: 0.0%)'
      metric: nullValues
      mustBeLessThan: 0.0
      unit: percent
      customProperties:
        anomalyId: DB#1
        causalDimension: DB
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: SAST
    - type: library
      description: Toutes valeurs doivent être uniques
      metric: duplicateValues
      customProperties:
        anomalyId: DB#4
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAMT
    - type: library
      description: Valeurs dans [0.08, 0.18]
      metric: invalidValues
      mustBeBetween:
      - 0.08070000000000001
      - 0.17789999999999997
      customProperties:
        anomalyId: DB#6
        causalDimension: DB
        detectionMethod: Auto
        criticality: ÉLEVÉ
        woodallClass: SAST
    - type: custom
      description: Vérifier homogénéité des unités
      query: SELECT MIN(taux_prime) AS min_val, MAX(taux_prime) AS max_val, MAX(taux_prime)/NULLIF(MIN(taux_prime),0) AS amplitude
        FROM referentiel_rh_complet WHERE taux_prime > 0 HAVING amplitude > 100
      mustBeLessThan: 100
      unit: amplitude_ratio
      customProperties:
        anomalyId: DB#14
        causalDimension: DB
        detectionMethod: Semi
        criticality: CRITIQUE
        woodallClass: SAMT, MR, MDS
    - type: custom
      description: Vérifier complétude vs univers attendu
      query: SELECT COUNT(DISTINCT taux_prime) AS nb_present FROM referentiel_rh_complet -- Comparer avec le nombre attendu
        dans l'univers de référence
      mustBeGreaterThan: 0
      unit: rows
      customProperties:
        anomalyId: DB#17
        causalDimension: DB
        detectionMethod: Manuel
        criticality: ÉLEVÉ
        woodallClass: SR, MR
    - type: library
      description: 'Pas de négatifs sur champ positif (actuel: 0)'
      metric: invalidValues
      customProperties:
        anomalyId: BR#2
        causalDimension: BR
        detectionMethod: Auto
        criticality: CRITIQUE
        woodallClass: MAST
    - type: library
      description: Ratio dans [0, 1] ou [0, 100]
      metric: invalidValues
      mustBeBetween:
      - 0
      - 100
      customProperties:
        anomalyId: BR#13
        causalDimension: BR
        detectionMethod: Auto
        criticality: MOYEN
        woodallClass: MAST
    customProperties:
      damaScores:
        Complétude: 1.0
        Unicité: 1.0
team:
  members:
  - name: Augmented DQ Framework
    role: generator
tags:
- data-quality
- augmented-dq
- dama-iso-8000
- woodall-taxonomy
customProperties:
  framework: Augmented DQ Demo
  referential:
    total: 128
    byDimension:
      DB:
        total: 22
        auto: 16
        semi: 4
        manuel: 2
      DP:
        total: 32
        auto: 4
        semi: 17
        manuel: 11
      BR:
        total: 34
        auto: 7
        semi: 14
        manuel: 13
      UP:
        total: 40
        auto: 0
        semi: 7
        manuel: 33
  qualityFramework: DAMA/ISO 8000
  causalDimensions:
  - DB (Database Integrity)
  - DP (Data Processing)
  - BR (Business Rules)
  - UP (Usage Appropriateness)
  damaDimensions:
  - Complétude
  - Cohérence
  - Exactitude
  - Fraîcheur
  - Validité
  - Unicité
  validationResults:
    totalViolations: 11
    violationsByColumn:
      date_embauche:
      - rule: Conversions format dates
        anomalyId: DP#8
        criticality: MOYEN
        message: 3 dates ambiguës DD/MM vs MM/DD
        affectedRows: 3
      - rule: Données obsolètes
        anomalyId: UP#6
        criticality: ÉLEVÉ
        message: '8 données > 365j (plus ancienne: 2017-11-20)'
        affectedRows: 8
      date_sortie:
      - rule: NULL non autorisés
        anomalyId: DB#1
        criticality: CRITIQUE
        message: Taux nulls 87.5% > seuil 10.0%
        affectedRows: 7
      - rule: Violations contraintes unicité
        anomalyId: DB#4
        criticality: ÉLEVÉ
        message: 6 doublons (unicité attendue)
        affectedRows: 6
      - rule: Doublons exacts
        anomalyId: DB#9
        criticality: ÉLEVÉ
        message: 6 doublons exacts
        affectedRows: 6
      - rule: Données obsolètes
        anomalyId: UP#6
        criticality: MOYEN
        message: '1 données > 365j (plus ancienne: 2024-12-31)'
        affectedRows: 1
      - rule: Taux remplissage insuffisant
        anomalyId: UP#16
        criticality: ÉLEVÉ
        message: Remplissage 12.5% < seuil 70%
        affectedRows: 7
      salaire:
      - rule: Valeurs hors plage numérique
        anomalyId: DB#6
        criticality: CRITIQUE
        message: 2 valeurs hors [35210.00, 60580.00]
        affectedRows: 2
      age:
      - rule: Valeurs hors plage numérique
        anomalyId: DB#6
        criticality: CRITIQUE
        message: 2 valeurs hors [25.21, 50.58]
        affectedRows: 2
      - rule: Calculs dérivés incorrects
        anomalyId: DP#1
        criticality: ÉLEVÉ
        message: '8 lignes: formule ''age_from_birthdate'' non respectée'
        affectedRows: 8
      taux_prime:
      - rule: Valeurs hors plage numérique
        anomalyId: DB#6
        criticality: CRITIQUE
        message: 2 valeurs hors [0.08, 0.18]
        affectedRows: 2
contractCreatedTs: '2026-03-01T01:06:20Z'
